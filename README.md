Предметная область: Страховая компания

Интеграция React Query в приложение страхования

Преимущества после интеграции

До интеграции:

Множество useEffect хуков для управления состоянием
Ручное управление loading/error состояниями
Отсутствие кэширования между компонентами
Дублирующиеся запросы при переходе между страницами

После интеграции:

Централизованное управление серверным состоянием
Автоматическое кэширование и инвалидация
Оптимистичные обновления
Prefetching для улучшения UX

Автоматическая обработка ошибок и retry логика

Настроенные Query Keys

Страховые полисы:
['insurancePolicies'] - все полисы
['policy', policyId] - конкретный полис

Профиль:
['profile', userId] - данные профиля

Мутации

Создание полиса:
Автоматическая инвалидация списка полисов
Оптимистичное обновление UI

Обновление полиса:
Оптимистичное обновление
Автоматический rollback при ошибках

Удаление полиса:
Оптимистичное удаление из UI
Подтверждение действия

Производительность
Уменьшено количество запросов: Кэширование предотвращает дублирующиеся запросы
Улучшен UX: Prefetching и оптимистичные обновления
Автоматическое обновление: Фоновая синхронизация данных
Оффлайн поддержка: Retry логика при проблемах с сетью
